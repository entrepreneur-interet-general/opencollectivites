/*! DSFR v1.1.0 | SPDX-License-Identifier: MIT | License-Filename: LICENCE.md | restricted use (see terms and conditions) */
const t=window.dsfr||{core:{}};window.dsfr=t;const e=t.core.ns.selector("table"),s=t.core.ns("table--no-scroll"),i=t.core.ns("table--shadow"),l=t.core.ns("table--shadow-left"),o=t.core.ns("table--shadow-right");class a{constructor(t){this.init(t)}init(e){this.table=e,this.table.setAttribute(t.core.ns.attr("js-table"),"true"),this.tableElem=this.table.querySelector("table"),this.tableContent=this.tableElem.querySelector("tbody"),this.isScrollable=this.tableContent.offsetWidth>this.tableElem.offsetWidth,this.caption=this.tableElem.querySelector("caption"),this.captionHeight=0;const s=this.change.bind(this);this.tableElem.addEventListener("scroll",s)}change(){const t=this.tableContent.offsetWidth>this.tableElem.offsetWidth;let e=this.tableElem.offsetWidth>this.table.offsetWidth;t||e?this.table.classList.contains(s)||this.scroll():t!==this.isScrollable&&this.delete(),this.isScrollable=t,e=!1;const i=this.caption.getBoundingClientRect();this.table.style.setProperty("--table-offset",i.height+"px")}delete(){t.core.removeClass(this.table,o),t.core.removeClass(this.table,l),t.core.removeClass(this.table,i),this.caption&&(this.tableElem.style.marginTop="",this.caption.style.top="",this.tableElem.style.marginBottom="",this.caption.style.bottom="")}scroll(){t.core.addClass(this.table,i),this.setShadowPosition()}setShadowPosition(){const t=this.getScrollPosition("left"),e=this.getScrollPosition("right");"rtl"===document.documentElement.getAttribute("dir")?(this.setShadowVisibility("right",t),this.setShadowVisibility("left",e)):(this.setShadowVisibility("left",t),this.setShadowVisibility("right",e))}getScrollPosition(t){let e=1;switch("rtl"===document.documentElement.getAttribute("dir")&&(e=-1),t){case"left":return this.tableElem.scrollLeft*e;case"right":return this.tableContent.offsetWidth-this.tableElem.offsetWidth-this.tableElem.scrollLeft*e;default:return!1}}setShadowVisibility(e,s){s<=1?"left"===e?t.core.removeClass(this.table,l):"right"===e&&t.core.removeClass(this.table,o):"left"===e?t.core.addClass(this.table,l):"right"===e&&t.core.addClass(this.table,o)}}t.Table=a;const h=[],r=()=>{for(let t=0;t<h.length;t++)h[t].change()};new t.core.Initializer(e,[()=>{const t=document.querySelectorAll(e);for(let e=0;e<t.length;e++)h.push(new a(t[e]));window.addEventListener("resize",r),window.addEventListener("orientationchange",r),r()}]);
//# sourceMappingURL=table.module.min.js.map
