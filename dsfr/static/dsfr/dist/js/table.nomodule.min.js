/*! DSFR v1.1.0 | SPDX-License-Identifier: MIT | License-Filename: LICENCE.md | restricted use (see terms and conditions) */
!function(){"use strict";var t=window.dsfr||{core:{}};window.dsfr=t;var e=t.core.ns.selector("table"),i=t.core.ns("table--no-scroll"),s="left",o="right",l=t.core.ns("table--shadow"),a=t.core.ns("table--shadow-left"),r=t.core.ns("table--shadow-right"),n=function(t){this.init(t)};n.prototype.init=function(e){this.table=e,this.table.setAttribute(t.core.ns.attr("js-table"),"true"),this.tableElem=this.table.querySelector("table"),this.tableContent=this.tableElem.querySelector("tbody"),this.isScrollable=this.tableContent.offsetWidth>this.tableElem.offsetWidth,this.caption=this.tableElem.querySelector("caption"),this.captionHeight=0;var i=this.change.bind(this);this.tableElem.addEventListener("scroll",i)},n.prototype.change=function(){var t=this.tableContent.offsetWidth>this.tableElem.offsetWidth,e=this.tableElem.offsetWidth>this.table.offsetWidth;t||e?this.table.classList.contains(i)||this.scroll():t!==this.isScrollable&&this.delete(),this.isScrollable=t,e=!1;var s=this.caption.getBoundingClientRect();this.table.style.setProperty("--table-offset",s.height+"px")},n.prototype.delete=function(){t.core.removeClass(this.table,r),t.core.removeClass(this.table,a),t.core.removeClass(this.table,l),this.caption&&(this.tableElem.style.marginTop="",this.caption.style.top="",this.tableElem.style.marginBottom="",this.caption.style.bottom="")},n.prototype.scroll=function(){t.core.addClass(this.table,l),this.setShadowPosition()},n.prototype.setShadowPosition=function(){var t=this.getScrollPosition(s),e=this.getScrollPosition(o);"rtl"===document.documentElement.getAttribute("dir")?(this.setShadowVisibility(o,t),this.setShadowVisibility(s,e)):(this.setShadowVisibility(s,t),this.setShadowVisibility(o,e))},n.prototype.getScrollPosition=function(t){var e=1;switch("rtl"===document.documentElement.getAttribute("dir")&&(e=-1),t){case s:return this.tableElem.scrollLeft*e;case o:return this.tableContent.offsetWidth-this.tableElem.offsetWidth-this.tableElem.scrollLeft*e;default:return!1}},n.prototype.setShadowVisibility=function(e,i){i<=1?e===s?t.core.removeClass(this.table,a):e===o&&t.core.removeClass(this.table,r):e===s?t.core.addClass(this.table,a):e===o&&t.core.addClass(this.table,r)},t.Table=n;var h=[],c=function(){for(var t=0;t<h.length;t++)h[t].change()};new t.core.Initializer(e,[function(){for(var t=document.querySelectorAll(e),i=0;i<t.length;i++)h.push(new n(t[i]));window.addEventListener("resize",c),window.addEventListener("orientationchange",c),c()}])}();
//# sourceMappingURL=table.nomodule.min.js.map
